<HTML>
<HEAD>
    <META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset=utf-8">
    <TITLE>Simple Demonstration of how WebGazer.js works</TITLE>

    <style type="text/css">

    .hexagons {
      fill: none;
      stroke: #fff;
      stroke-opacity: 0.5;
}
    </style>
</HEAD>
<BODY LANG="en-US" LINK="#0000ff" DIR="LTR">

<div id="container">
    <div id="focus"></div>
    <div id="context">
        <span>
            <input type="file" id="inputUpload">Upload</input>
            <button type="button" id="buttonStart" onClick="webgazer.begin()">Start</button>
            <button type="button" id="buttonPause" onClick="webgazer.pause()">Pause</button>
            <button type="button" id="buttonResume" onClick="webgazer.resume()">Resume</button>
            <button type="button" id="buttonFinish" onClick="render(15)">Finish</button>
        </span>
        <input type="range" min="10" max="25" value="15" id="hexRadius">Radius</input>
    </div>
</div>

<script src="https://d3js.org/d3.v4.0.0-alpha.49.min.js"></script>
<script src="https://d3js.org/d3-hexbin.v0.2.min.js"></script>
<script src="js/webgazer.js"></script>
<script src="js/app.js"></script>
<script>
// Init the svg to which we will be working on
var width = window.innerWidth,
    height = window.innerHeight *.75,
    svg = d3.select("#focus").append("svg")
        .attr("width", width)
        .attr("height", height);

//Add listener to insert the photo
d3.select("#inputUpload").on("change", function() {
    var reader = new FileReader();
    reader.onloadend = function (e) {
        d3.select("#focus").style("background-image", "url(" + e.target.result +")");
    };
    reader.readAsDataURL(this.files[0]);
});

//Set listener for the radius slider
d3.select("hexRadius").on("change", function() {
    return render(+this.value);
});


</script>
</BODY>
</HTML>
